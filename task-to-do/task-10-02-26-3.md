# Task 3 - [P0] : Étendre profiles + ajouter flags onboarding

## Fichier(s) à modifier
- Migration SQL Supabase (project_id: `rfzvrezrcigzmldgvntz`)

## Problème
1. La contrainte `profiles_role_check` n'autorise que 'admin' et 'user'. Les rôles 'freelance' et 'accountant' sont nécessaires.
2. La table `profiles` n'a pas de champs pour tracker l'état de l'onboarding.

## Solution
Migration SQL :
```sql
-- Étendre les rôles
ALTER TABLE profiles DROP CONSTRAINT IF EXISTS profiles_role_check;
ALTER TABLE profiles ADD CONSTRAINT profiles_role_check
  CHECK (role IN ('admin', 'user', 'freelance', 'accountant'));

-- Ajouter flags onboarding
ALTER TABLE profiles ADD COLUMN IF NOT EXISTS onboarding_completed BOOLEAN DEFAULT false;
ALTER TABLE profiles ADD COLUMN IF NOT EXISTS onboarding_step INTEGER DEFAULT 0;
```

## Résultat
- Contrainte `profiles_role_check` étendue à `('admin', 'user', 'freelance', 'accountant')`
- Colonnes `onboarding_completed BOOLEAN DEFAULT false` et `onboarding_step INTEGER DEFAULT 0` ajoutées à `profiles`
- Appliqué via Supabase MCP sur le projet `rfzvrezrcigzmldgvntz`

## Statut
- [x] Complète
