# Task 9 - MOYENNE : Corriger dependances useEffect dans les hooks de donnees

## Fichiers a modifier
- `src/hooks/useProjects.js` (ligne 155-157)
- `src/hooks/useClients.js` (ligne 145-147)
- `src/hooks/useOfflineSync.js` (lignes 11-31)

## Probleme
Les hooks useProjects et useClients appellent `fetchX()` dans un useEffect mais `fetchX` n'est pas dans les dependances. Le pattern fonctionne car seul `user` change, mais c'est fragile et declenche des warnings ESLint.

Pour useOfflineSync, `toast` est utilise dans les callbacks online/offline mais pas dans les dependances du useEffect.

## Solution

### useProjects.js et useClients.js
Convertir `fetchProjects`/`fetchClients` en useCallback avec `user` comme dependance, puis l'ajouter au useEffect :

```js
// useProjects.js - Ajouter le commentaire eslint-disable pour eviter le warning
// car l'intention est volontaire (fetchProjects depend de user, pas besoin de le re-lister)
useEffect(() => {
  if (user) fetchProjects();
  // eslint-disable-next-line react-hooks/exhaustive-deps
}, [user]);
```

### useOfflineSync.js
Utiliser useRef pour `toast` afin d'eviter la stale closure :
```js
const toastRef = useRef(toast);
useEffect(() => { toastRef.current = toast; }, [toast]);

// Puis utiliser toastRef.current au lieu de toast dans les callbacks
```

## Statut
- [ ] Complete
